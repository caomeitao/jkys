# 科学吃喝分析助手

一个基于阿里云百炼智能体的饮食营养分析网站。

## 🚀 快速开始

### 方案一：直接使用（可能遇到 CORS 问题）

1. 直接在浏览器中打开 `index.html`
2. 输入食物并点击"开始分析"

### 方案二：使用代理服务器（推荐）

1. **启动代理服务器**
   ```bash
   node server.js
   ```

   服务器将在 `http://localhost:3000` 启动

2. **修改 HTML 文件**

   将 `index.html` 中的脚本引用改为：
   ```html
   <script src="script-with-proxy.js"></script>
   ```

   或者直接替换 `script.js` 的内容为 `script-with-proxy.js` 的内容

3. **在浏览器中打开 `index.html`**

## 📋 配置信息

当前配置：
- **API Key**: `sk-d9519b7b809346b2a12012bd84ff69fd`
- **应用 ID**: `727b1f13a9fd45b78fe0278a76ed3acd`

## 🎨 功能特点

- ✅ 用户输入每日饮食清单
- ✅ 调用阿里云百炼智能体进行营养分析
- ✅ 对话式交互界面
- ✅ 流畅的动画效果
- ✅ 响应式设计，支持移动端
- ✅ 支持 Ctrl+Enter 快捷键提交
- ✅ 自动滚动到最新消息
- ✅ 格式化显示（支持标题、列表、加粗等）

## 📁 文件说明

- `index.html` - 主页面
- `style.css` - 样式文件
- `script.js` - 直接调用版本的 JavaScript
- `script-with-proxy.js` - 使用代理服务器版本的 JavaScript
- `server.js` - Node.js 代理服务器
- `package.json` - Node.js 项目配置

## 🔧 技术栈

- HTML5
- CSS3（渐变、动画、响应式）
- 原生 JavaScript
- Node.js（代理服务器）
- 阿里云百炼智能体 API

## 💡 使用示例

输入示例：
```
早餐：一个鸡蛋、一杯牛奶、两片全麦面包
午餐：米饭、青菜、鸡胸肉
晚餐：小米粥、清蒸鱼、西兰花
```

智能体会分析：
- 营养成分是否均衡
- 热量摄入是否合理
- 缺少哪些营养素
- 改进建议

## ⚠️ 注意事项

1. 如果直接打开 HTML 遇到 CORS 错误，请使用代理服务器方案
2. 确保 Node.js 已安装（如使用代理服务器）
3. API Key 已硬编码在代码中，生产环境建议使用环境变量
4. 代理服务器默认端口为 3000，可在 `server.js` 中修改

## 🐛 故障排除

### 问题：Failed to fetch

**原因**：浏览器 CORS 跨域限制

**解决方案**：
1. 使用方案二（代理服务器）
2. 或者使用浏览器扩展禁用 CORS（仅开发环境）
3. 或者使用 Chrome 启动参数：`--disable-web-security`（不推荐）

### 问题：代理服务器无法启动

**解决方案**：
1. 确保已安装 Node.js
2. 检查端口 3000 是否被占用
3. 可以修改 `server.js` 中的 `PORT` 配置

## 📞 支持

如有问题，请检查浏览器控制台的错误信息。
